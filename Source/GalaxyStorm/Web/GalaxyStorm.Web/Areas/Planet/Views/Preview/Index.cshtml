@{
    ViewBag.Title = "Planet Overview";
}

@model GalaxyStorm.ViewModels.Common.CompletePlayerViewModel

<div class="row">
    <div class="col-lg-12">
        <h2 class="page-header">Planet Overview <small>Statistics overview</small></h2>
    </div>
</div>

<div class="well">
<h4>Planet <small>Shard: @Model.Planet.ShardTitle</small></h4>
    <hr />
    <div class="row">
        <p class="text-center text-success">@Model.Planet.Title (@Model.Planet.X : @Model.Planet.Y)</p>
        <p class="text-center">
            Energy modifier: <span class="text-info">@Model.Planet.EnergyModifier</span>&nbsp;&nbsp;
            Crystals modifier: <span class="text-danger">@Model.Planet.CrystalModifier</span>&nbsp;&nbsp;
            Metal modifier: <span class="text-primary">@Model.Planet.MetalModifier</span>&nbsp;
        </p>
    </div>
    <br />
    <h4>Resources</h4>
    <hr />
    <div class="row">
        <p class="text-center">Available Energy: <i class="ion-ios-sunny-outline size-18"> </i> @Model.Resources.Energy <span class="text-success">(+@Model.Resources.EnergyPerHour/h)</span></p>
        <p class="text-center">Available Crystals: <i class="ion-ios-flower-outline size-18"> </i> @Model.Resources.Crystal <span class="text-success">(+@Model.Resources.CrystalPerHour/h)</span></p>
        <p class="text-center">Available Metal: <i class="ion-ios-cog-outline size-18"> </i> @Model.Resources.Metal <span class="text-success">(+@Model.Resources.MetalPerHour/h)</span></p>
    </div>
    <br />
    <h4>Buildings</h4>
    <hr />
    @{ Html.RenderPartial("_BuildingsPartial", @Model.Buildings); }
    <br />
    <h4>Technologies</h4>
    <hr />
    <div class="row">
        <div class="col-lg-4 col-md-6">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h6 class="text-center">
                        @Html.ActionLink(@Model.Technologies.ArmoredFleet.Name, "ArmoredFleet", "Technologies", new {area = "Planet"}, null) - <small>Level @Model.Technologies.ArmoredFleet.Level</small>
                    </h6>
                </div>
                <div class="panel-body text-center">
                    @if (@Model.Technologies.CurrentlyResearching == "ArmoredFleet")
                    {
                        <p class="text-center">Ready in: @string.Format("{0:0.00}", Model.Technologies.MinutesLeftToResearch) minutes!</p>
                        <p>
                            <div class="progress progress-striped active">
                                <div class="progress-bar progress-bar-warning" style="width: @Model.Technologies.PercentsResearched%"></div>
                            </div>
                        </p>
                    }
                    else
                    {
                        if (@Model.Technologies.ArmoredFleet.Level > 0)
                        {
                            <p>Level @Model.Technologies.ArmoredFleet.Level</p>
                        }
                        else
                        {
                            <p>Requires @Model.Buildings.ResearchCentre.Name @Model.Technologies.ArmoredFleet.Prerequisite</p>
                        }
                        <p>
                            <div class="progress">
                                <div class="progress-bar progress-bar-warning" style="width: @((Model.Technologies.ArmoredFleet.Level / (double)Model.Technologies.ArmoredFleet.MaxLevel) * 100)%;"></div>
                            </div>
                        </p>
                    }
                    @Html.ActionLink("Details", "ArmoredFleet", "Technologies", new {area = "Planet"}, new {@class = "btn btn-default"})
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-md-6">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h6 class="text-center">
                        @Html.ActionLink(@Model.Technologies.CheaperFleet.Name, "CheaperFleet", "Technologies", new {area = "Planet"}, null) - <small>Level @Model.Technologies.CheaperFleet.Level</small>
                    </h6>
                </div>
                <div class="panel-body text-center">
                    @if (@Model.Technologies.CurrentlyResearching == "CheaperFleet")
                    {
                        <p class="text-center">Ready in: @string.Format("{0:0.00}", Model.Technologies.MinutesLeftToResearch) minutes!</p>
                        <p>
                            <div class="progress progress-striped active">
                                <div class="progress-bar progress-bar-warning" style="width: @Model.Technologies.PercentsResearched%"></div>
                            </div>
                        </p>
                    }
                    else
                    {
                        if (@Model.Technologies.CheaperFleet.Level > 0)
                        {
                            <p>Level @Model.Technologies.CheaperFleet.Level</p>
                        }
                        else
                        {
                            <p>Requires @Model.Buildings.ResearchCentre.Name @Model.Technologies.CheaperFleet.Prerequisite</p>
                        }
                        <p>
                            <div class="progress">
                                <div class="progress-bar progress-bar-warning" style="width: @((Model.Technologies.CheaperFleet.Level / (double)Model.Technologies.CheaperFleet.MaxLevel) * 100)%;"></div>
                            </div>
                        </p>
                    }
                    @Html.ActionLink("Details", "CheaperFleet", "Technologies", new {area = "Planet"}, new {@class = "btn btn-default"})
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-md-6">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h6 class="text-center">
                        @Html.ActionLink(@Model.Technologies.LargerFleet.Name, "LargerFleet", "Technologies", new {area = "Planet"}, null) - <small>Level @Model.Technologies.LargerFleet.Level</small>
                    </h6>
                </div>
                <div class="panel-body text-center">
                    @if (@Model.Technologies.CurrentlyResearching == "LargerFleet")
                    {
                        <p class="text-center">Ready in: @string.Format("{0:0.00}", Model.Technologies.MinutesLeftToResearch) minutes!</p>
                        <p>
                            <div class="progress progress-striped active">
                                <div class="progress-bar progress-bar-warning" style="width: @Model.Technologies.PercentsResearched%"></div>
                            </div>
                        </p>
                    }
                    else
                    {
                        if (@Model.Technologies.LargerFleet.Level > 0)
                        {
                            <p>Level @Model.Technologies.LargerFleet.Level</p>
                        }
                        else
                        {
                            <p>Requires @Model.Buildings.ResearchCentre.Name @Model.Technologies.LargerFleet.Prerequisite</p>
                        }
                        <p>
                            <div class="progress">
                                <div class="progress-bar progress-bar-warning" style="width: @((Model.Technologies.LargerFleet.Level / (double)Model.Technologies.LargerFleet.MaxLevel) * 100)%;"></div>
                            </div>
                        </p>
                    }
                    @Html.ActionLink("Details", "LargerFleet", "Technologies", new {area = "Planet"}, new {@class = "btn btn-default"})
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-md-6">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h6 class="text-center">
                        @Html.ActionLink(@Model.Technologies.FasterConstruction.Name, "FasterConstruction", "Technologies", new {area = "Planet"}, null) - <small>Level @Model.Technologies.LargerFleet.Level</small>
                    </h6>
                </div>
                <div class="panel-body text-center">
                    @if (@Model.Technologies.CurrentlyResearching == "FasterConstruction")
                    {
                        <p class="text-center">Ready in: @string.Format("{0:0.00}", Model.Technologies.MinutesLeftToResearch) minutes!</p>
                        <p>
                            <div class="progress progress-striped active">
                                <div class="progress-bar progress-bar-warning" style="width: @Model.Technologies.PercentsResearched%"></div>
                            </div>
                        </p>
                    }
                    else
                    {
                        if (@Model.Technologies.FasterConstruction.Level > 0)
                        {
                            <p>Level @Model.Technologies.FasterConstruction.Level</p>
                        }
                        else
                        {
                            <p>Requires @Model.Buildings.ResearchCentre.Name @Model.Technologies.FasterConstruction.Prerequisite</p>
                        }
                        <p>
                            <div class="progress">
                                <div class="progress-bar progress-bar-warning" style="width: @((Model.Technologies.FasterConstruction.Level / (double)Model.Technologies.FasterConstruction.MaxLevel) * 100)%;"></div>
                            </div>
                        </p>
                    }
                    @Html.ActionLink("Details", "FasterConstruction", "Technologies", new {area = "Planet"}, new {@class = "btn btn-default"})
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-md-6">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h6 class="text-center">
                        @Html.ActionLink(@Model.Technologies.MoreResources.Name, "MoreResources", "Technologies", new { area = "Planet" }, null) - <small>Level @Model.Technologies.MoreResources.Level</small>
                    </h6>
                </div>
                <div class="panel-body text-center">
                    @if (@Model.Technologies.CurrentlyResearching == "MoreResources")
                    {
                        <p class="text-center">Ready in: @string.Format("{0:0.00}", Model.Technologies.MinutesLeftToResearch) minutes!</p>
                        <p>
                            <div class="progress progress-striped active">
                                <div class="progress-bar progress-bar-warning" style="width: @Model.Technologies.PercentsResearched%"></div>
                            </div>
                        </p>
                    }
                    else
                    {
                        if (@Model.Technologies.MoreResources.Level > 0)
                        {
                            <p>Level @Model.Technologies.MoreResources.Level</p>
                        }
                        else
                        {
                            <p>Requires @Model.Buildings.ResearchCentre.Name @Model.Technologies.MoreResources.Prerequisite</p>
                        }
                        <p>
                            <div class="progress">
                                <div class="progress-bar progress-bar-warning" style="width: @((Model.Technologies.MoreResources.Level / (double)Model.Technologies.MoreResources.MaxLevel) * 100)%;"></div>
                            </div>
                        </p>
                    }
                    @Html.ActionLink("Details", "MoreResources", "Technologies", new { area = "Planet" }, new { @class = "btn btn-default" })
                </div>
            </div>
        </div>
    </div>
    <br />
    <h4>Fleet</h4>
    <hr />
    <div class="row">

    </div>
</div>